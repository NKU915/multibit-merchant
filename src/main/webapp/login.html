<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
  "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <title>Login screen</title>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
  <meta http-equiv="content-script-type" content="text/javascript"/>

  <!-- JS -->
  <script type="text/javascript" src="js/jquery-1.6.4.js"></script>
  <script type="text/javascript" src="js/jquery-i18n-properties-1.0.9.js"></script>

  <!-- CSS -->
  <link rel="stylesheet" href="css/blueprint/screen.css" type="text/css" media="screen, projection">
  <link rel="stylesheet" href="css/blueprint/print.css" type="text/css" media="print">
  <!--[if lt IE 8]>
  <link rel="stylesheet" href="css/blueprint/ie.css" type="text/css" media="screen, projection"><![endif]-->
  <link rel="stylesheet" href="css/style.css" type="text/css" media="screen, projection">


  <script type="text/javascript">
    // load I18N bundles
    jQuery(document).ready(function() {
      loadBundles('en_GB');

      // configure language combo box
      jQuery('#lang').change(function() {
        var selection = jQuery('#lang option:selected').val();
        loadBundles(selection != 'browser' ? selection : null);
        jQuery('#langBrowser').empty();
        if (selection == 'browser') {
          jQuery('#langBrowser').text('(' + jQuery.i18n.browserLang() + ')');
        }
      });

      // load files just for display purposes...
      jQuery('h4').each(function() {
        var file = 'bundle/' + jQuery(this).text();
        var code = jQuery(this).next().next('code');
        jQuery.get(file, function(data) {
          data = data.replace(/\n/mg, '<br/>');
          code.html(data);
        });
      });
      // ... and configure links to show/hide them
      jQuery('a.toggle').bind('click', function() {
        jQuery(this).next('code').slideToggle();
        return false;
      });
    });

    function loadBundles(lang) {
      jQuery.i18n.properties({
        name:'mbm',
        path:'i18n/',
        mode:'both',
        language:lang,
        callback: function() {
          updateExamples();
        }
      });
    }

    function updateExamples() {
      // Accessing values through the map
      var ex1 = 'login.user-name';
      var ex2 = 'login.openid';
      jQuery('#mapExamples')
        .empty()
        .append('<li><code class="i18n">jQuery.i18n.prop(\'' + ex1 + '\')</code>  -->  ' + jQuery.i18n.prop(ex1) + '</li>')
        .append('<li><code class="i18n">jQuery.i18n.prop(\'' + ex2 + '\',\'' + ex2P + '\')</code>  -->  ' + jQuery.i18n.prop(ex2) + '</li>');
    }
  </script>
</head>
<body>
<h2>jQuery.i18n.properties :: Demo</h2>

<div class="left">

  <h3>Examples</h3>

  <div id="langBox">
    Language:
    <select id="lang">
      <option value="browser">Indicated by the browser</option>
      <option value="en_GB" selected>en_GB</option>
      <option value="en_US">en_US</option>
      <option value="ru">ru</option>
    </select>
    <span id="langBrowser"></span>
  </div>

  <h4>Accessing values through the map</h4>
  <ul id="mapExamples"></ul>

</div>
</body>
</html>